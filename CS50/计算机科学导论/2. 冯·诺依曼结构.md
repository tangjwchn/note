# 2. 冯·诺依曼结构

![冯·诺依曼](https://bkimg.cdn.bcebos.com/pic/808a27db43f28308d0164edb?x-bce-process=image/format,f_auto/resize,m_lfit,limit_1,h_538)

基于通用图灵机建造的计算机都是在存储器中存储数据。在1944~1945年，冯·诺依曼指出，鉴于程序和数据在逻辑上是相同的，因此程序也能存储在计算机的存储器中。

## 2.1 四个子系统
基于冯·诺依曼结构建造的计算机分为4个子系统：存储器、算术逻辑单元、控制单元和输入/输出。

1. 存储器 （M）：是用来存储的区域，在计算机的处理过程中存储器用来存储数据和程序。
2. 算术逻辑单元（ALU）：是用来计算和逻辑运算的地方。
3. 控制单元（CU）：是对存储器、算术逻辑单元、输入/输出等子系统进行控制操作的单元。
4. 输入/输出：输入子系统负责从计算机外部接收输入数据和程序，输出子系统负责将计算机的处理结果输出到计算机外部。

![冯·诺依曼结构](https://bkimg.cdn.bcebos.com/pic/bd315c6034a85edf898e40b647540923dd547520?x-bce-process=image/format,f_auto/watermark,image_d2F0ZXIvYmFpa2UyNzI,g_7,xp_5,yp_5,P_20/resize,m_lfit,limit_1,h_1080)

### 2.1.1 存储程序概念
冯·诺依曼模型要求程序必须存储在存储器中。这和早期只有数据才能存储在存储器中的计算机结构完全不同，这意味着数据和程序应该具有相同的格式，实际上它们都是以位模式（0和1序列）存储在存储器中的。

### 2.1.2 指令的顺序执行
冯·诺依曼模型中的一段程序由一组数量有限的指令组成。按照这个模型，控制单元从存储器中提取一条指令，解释指令，接着执行指令。换句话说，指令就是一条接着一条地顺序执行。当然，一条指令可能会请求控制单元跳转到其前面或者后面的指令去执行，但是这并不意味着指令没有按照顺序来执行。指令的顺序执行是基于冯·诺依曼模型的计算机的初始条件。

当今的计算机以最高效的顺序来执行程序。

## 2.2 计算机组成部分（每一项都将在后面的章节展开）
我们可以认为计算机由三大部分组成：计算机硬件、数据和计算机软件。

### 2.2.1 计算机硬件
当今的计算机硬件基于冯·诺依曼模型，且包含四部分，尽管可以有不同类型的存储器，不同类型的输入/输出子系统等。

### 2.2.2 数据
冯·诺依曼模型清楚地将一台计算机定义为一台数据处理机。它接收输入数据，处理并输出相应的结果。

**1. 存储数据**  
冯·诺依曼模型并没有定义数据如何存储在计算机中。如果一台计算机是一台电子设备，最好的数据存储方式应该是电子信号，以电子信号的出现和消失的特定方式来存储数据。

显然，日常使用的数据并不是以两种状态之一的形式存在的。在数字系统中使用的数字可以是0~9十种状态中的任何一个，还有其他类型的数据（例如文本、图像、声音、视频），它们都不能直接存储到计算机中，除非将它们转变成合适的形式（0和1序列）。

**2. 组织数据**  
尽管数据只能以一种形式（位模式）存储在计算机内部，但在计算机外部却可以表现为不同的形式。另外，计算机（以及数据处理表示法）开创了一个新兴的研究领域-数据组织。在将数据存储到计算机中之前，能否有效地将数据组织成不同的实体和格式？如今，数据并不是按照杂乱无章的次序来组织信息的。数据被组织成许多小的单元，再由这些小的单元组成更大的单元。

### 2.2.3 计算机软件
图灵或冯·诺伊曼模型的主要特征是程序的概念。尽管早期的计算机并没有在计算机的存储器中存储程序，但它们还是使用了程序的概念。编程在早期的计算机中体现为一系列开关的打开或闭合以及配线的改变。

**1. 程序必须是存储的**  
在冯·诺依曼模型中，这些程序被存储在计算机的存储器中，存储器中不仅要存储数据，还要存储程序。

**2. 指令的序列**  
这个模型还要求程序必须是有序的指令集。每一条指令操作一个或多个数据项。因此，一条指令可以改变它前面指令的作用。

示例：
1、向存储器中输入第一个数字
2、向存储器中输入第二个数字
3、将两个数字相加，并将结果存储到存储器中
4、输出结果

也许我们会问：为什么程序必须由不同的指令集组成？答案是重用性。如今，计算机完成成千上万的任务，如果每一项任务的程序都是相对独立的，且和其他程序之间没有任何的公用段，编程将会变成一件很困难的事情。图灵模型和冯·诺依曼模型通过仔细地定义计算机可以使用的不同指令集，使编程变得相对简单。程序员通过组合这些不同的指令来创建任意数量的程序。每个程序可以是不同指令的不同组合。

**3. 算法**  
要求程序包含一系列指令使编程变得可能，但也带来了另外一些使用计算机方面的问题。程序员不仅要了解每条指令所完成的任务，还要知道怎样将这些指令结合起来完成一些特定的任务。对于一些不同的问题，程序员首先应该以循序渐进的方式来解决问题，接着尽量找到合适的指令（指令序列）来解决问题。

这种按步骤解决问题的方法就是所谓的算法。算法在计算机科学中起到了重要的作用。

**4. 语言**  
在计算机时代的早期，只有一种称为机器语言的计算机语言。程序员依靠写指令的方式（使用位模式）来解决问题。但是随着程序越来越大，采用这种模式来编写很长的程序变得单调乏味。计算机科学家研究出利用符号来代表位模式，就像人们在日常中用符号（单词）来代替一些常用得指令一样。这样计算机语言得概念诞生了。

**5. 软件工程**  
在冯·诺依曼模型中没有定义软件工程，软件工程是指结构化程序得设计和编写。今天，它不仅仅是用来描述完成某一任务得应用程序，还包括程序设计中所要严格遵循得原理和规则。

**6. 操作系统**  
在计算机演变过程中，科学家们发现有一系列指令对所有程序来说是公用的。例如，告诉计算机在哪里接收和发送数据得指令在几乎所有得程序中都要用到。如果这些指令只编写一次就可以用于所有程序，那么效率将会大大提高。这样，就出现了操作系统得概念。计算机操作系统最初是为程序访问计算机部件提供方便的一种管理程序。今天操作系统所完成的工作远不止这些。

## 2.3 计算机科学作为一门学科
随着计算机的发明，带来了新的学科：计算机科学。如同其他任何学科一样，计算机科学现在被划分成几个领域。我们可以把这些领域归纳为两大类：系统领域和应用领域。

**1. 系统领域**  
系统领域涵盖那些与硬件和软件构成直接有关的领域，例如计算机体系结构、计算机网络、安全问题、操作系统、算法、程序设计语言以及软件工程。

**2. 应用领域**  
应用领域涵盖了与计算机使用有关的领域，例如数据库和人工智能。